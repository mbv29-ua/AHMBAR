DEF NUM_ENTITIES EQU 32

DEF SPR_BASE     EQU $C000
DEF PHYS_BASE    EQU $C100
DEF ATTR_BASE    EQU $C200
DEF CONT_BASE    EQU $C300
DEF ANIM_BASE    EQU $C400
DEF JAIME_BASE   EQU $C500
DEF MIGUEL_BASE  EQU $C600
DEF SONIA_BASE   EQU $C700

DEF CMP_SPRIT_H  EQU $C0
DEF CMP_PHYS_H   EQU $C1
DEF CMP_ATTR_H   EQU $C2

; =============================================================
; OFFSETS DE LOS COMPONENTES
; =============================================================

; --- SPRITE COMPONENT ---
RSRESET
DEF SPR_Y      RB 1
DEF SPR_X      RB 1
DEF SPR_TILE   RB 1
DEF SPR_ATTR   RB 1
DEF SPR_SIZE   RB 0

; --- PHYSICS COMPONENT ---
RSRESET
DEF PHY_VY     RB 1
DEF PHY_VX     RB 1
DEF PHY_STATE  RB 1
DEF PHY_FLAGS  RB 1
DEF PHYS_SIZE  RB 0

; --- ATTR COMPONENT ---
RSRESET
DEF ATT_ENTITY_FLAGS  RB 1
DEF ATT_FREE2  RB 1
DEF ATT_FREE3  RB 1
DEF ATT_FREE4  RB 1
DEF ATTR_SIZE  RB 0

; --- CONT COMPONENT ---
RSRESET
DEF CONT_FREE1   RB 1
DEF CONT_FREE2   RB 1
DEF CONT_FREE3   RB 1
DEF CONT_FREE4   RB 1
DEF CONT_SIZE    RB 0

; --- ANIMATION COMPONENT ---
RSRESET
DEF AN_FREE1   RB 1
DEF AN_FREE2   RB 1
DEF AN_FREE3   RB 1
DEF AN_FREE4   RB 1
DEF ANIM_SIZE  RB 0

; --- JAIME COMPONENT ---
RSRESET
DEF JAIME_FREE1   RB 1
DEF JAIME_FREE2   RB 1
DEF JAIME_FREE3   RB 1
DEF JAIME_FREE4   RB 1
DEF JAIME_SIZE    RB 0

; --- MIGUEL COMPONENT ---
RSRESET
DEF MIGUEL_FREE1   RB 1
DEF MIGUEL_FREE2   RB 1
DEF MIGUEL_FREE3   RB 1
DEF MIGUEL_FREE4   RB 1
DEF MIGUEL_SIZE    RB 0

; --- SONIA COMPONENT ---
RSRESET
DEF SONIA_FREE1   RB 1
DEF SONIA_FREE2   RB 1
DEF SONIA_FREE3   RB 1
DEF SONIA_FREE4   RB 1
DEF SONIA_SIZE    RB 0

; =============================================================
; FLAGS DE ENTIDAD
; =============================================================

; --- Bits en ATT_ENTITY_FLAGS ---
DEF E_BIT_SENTINEL  EQU 7 ; 1 = FINAL,  0 = NO FINAL
DEF E_BIT_FREE		EQU 6 ; 1 =  USED,  0 = FREE

; =============================================================


; =============================================================
; FLAGS DE FISICAS
; =============================================================
; --- Bits en PHY_FLAGS ---
DEF PHY_FLAG_GROUNDED EQU 7    ; 1 = ESTA EN SUELO 
DEF PHY_FLAG_JUMPING  EQU 6    ; 1 = ESTA SALTANDO



DEF ENTITY_CMP_SENTINEL 	EQU $FF

; =============================================================
; GRAVEDAD ESTO MOVERLO
; =============================================================

DEF GRAVITY 	EQU 1
; =============================================================


DEF CMP_SPRITES_TOTALBYTES = NUM_ENTITIES * SPR_SIZE
DEF CMP_PHYSICS_TOTALBYTES = NUM_ENTITIES * PHYS_SIZE
DEF CMP_ATTRIBUTES_TOTALBYTES = NUM_ENTITIES * ATTR_SIZE
DEF CMP_COUNTERS_TOTALBYTES = NUM_ENTITIES * CONT_SIZE
DEF CMP_ANIMATION_TOTALBYTES = NUM_ENTITIES * ANIM_SIZE
DEF CMP_JAIME_TOTALBYTES = NUM_ENTITIES * JAIME_SIZE

DEF ENTITIES_MEM_START EQU $C000

; Tamaño total de una entidad (suma de todos los componentes)
DEF ENTITY_TOTAL_SIZE = SPR_SIZE + PHYS_SIZE + ATTR_SIZE + CONT_SIZE + ANIM_SIZE + JAIME_SIZE + MIGUEL_SIZE + SONIA_SIZE

; Tamaño total del bloque de memoria de todas las entidades
DEF ENTITIES_MEM_SIZE  = NUM_ENTITIES * ENTITY_TOTAL_SIZE
DEF ENTITIES_MEM_END   = ENTITIES_MEM_START + ENTITIES_MEM_SIZE